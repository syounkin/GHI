## ITHIM Package Tutorial

### Install and Load ITHIM

```{r libs, eval = TRUE, echo = TRUE, results = "hide", warning = FALSE, error = FALSE, message = FALSE}
library("devtools")
install_github("syounkin/ITHIM", ref="devel")
library("ITHIM")
```

### Create the ITHIM object

#### Method 1: Using Input Files

We begin by creating the ITHIM object from which both the baseline and
scenario are derived.  Currently ITHIM reads three files for the
necessary input parameters.  Sample files are listed below.

```{r misc2, message = FALSE, eval = TRUE, warning = FALSE, error = TRUE, echo = TRUE}
fileNamesList <- list(
    activeTransportTimeFile = "~/ITHIM/inst/activeTransportTime.csv",
    roadInjuriesFile = "~/ITHIM/inst/roadInjuries.csv",
    GBDFile = "~/ITHIM/inst/gbd.csv"
)
```

These files can be found in the devel branch of ITHIM repository.

* [activeTransportTime.csv](https://github.com/syounkin/ITHIM/blob/devel/inst/activeTransportTime.csv)
* [roadInjuries.csv](https://github.com/syounkin/ITHIM/blob/devel/inst/roadInjuries.csv)
* [gbd.csv](https://github.com/syounkin/ITHIM/blob/devel/inst/gbd.csv)

Now create the ITHIM object.
```{r misc20, message = FALSE, eval = TRUE, warning = FALSE, error = TRUE, echo = TRUE}
ITHIM <- createITHIM(fileNamesList)
```

##### Active Transport File Format
```
ageClass,sex,mode,value
ageClass1,M,walk,10
ageClass2,M,walk,9
...
ageClass7,F,cycle,15
ageClass8,F,cycle,13
```
The rows must be ordered by ageClass.
##### Road Injuries File Format
```
severity,roadType,strikingMode,victimMode,value
Fatal,Local,walk,walk,0
Fatal,Local,cycle,walk,13
...
Serious,Highway,LGV,NOV,0
Serious,Highway,mbike,NOV,0
```
ebikes are not included
##### GBD File Format
The GBD file format has not been normalized like the others yet.
```
disease,sex,ageClass,dproj,yll,yld,daly
BreastCancer,M,ageClass1,0,0,0,0
BreastCancer,M,ageClass2,0,0,0,0
...
RTIs,F,ageClass7,1486.647682,21930.32348,7921.96966,29852.3031
RTIs,F,ageClass8,1957.865757,10720.47109,5222.446302,15942.95826
```
RTIs stands for road traffic injuries.

```{r misc22, message = FALSE, eval = FALSE, warning = FALSE, error = TRUE, echo = FALSE}
purl("./tutorial.Rmd","./tutorialScript.R", documentation = 0)
```
